{\rtf1\ansi\ansicpg1252\uc1\deff0\stshfdbch0\stshfloch0\stshfhich0\stshfbi0\deflang1033\deflangfe1033{\fonttbl{\f0\froman\fcharset0\fprq2{\*\panose 02020603050405020304}Times New Roman;}
{\f4\fswiss\fcharset0\fprq2{\*\panose 020b0604020202020204}Helvetica;}{\f233\froman\fcharset238\fprq2 Times New Roman CE;}{\f234\froman\fcharset204\fprq2 Times New Roman Cyr;}{\f236\froman\fcharset161\fprq2 Times New Roman Greek;}
{\f237\froman\fcharset162\fprq2 Times New Roman Tur;}{\f238\froman\fcharset177\fprq2 Times New Roman (Hebrew);}{\f239\froman\fcharset178\fprq2 Times New Roman (Arabic);}{\f240\froman\fcharset186\fprq2 Times New Roman Baltic;}
{\f241\froman\fcharset163\fprq2 Times New Roman (Vietnamese);}{\f273\fswiss\fcharset238\fprq2 Helvetica CE;}{\f274\fswiss\fcharset204\fprq2 Helvetica Cyr;}{\f276\fswiss\fcharset161\fprq2 Helvetica Greek;}{\f277\fswiss\fcharset162\fprq2 Helvetica Tur;}
{\f278\fswiss\fcharset177\fprq2 Helvetica (Hebrew);}{\f279\fswiss\fcharset178\fprq2 Helvetica (Arabic);}{\f280\fswiss\fcharset186\fprq2 Helvetica Baltic;}{\f281\fswiss\fcharset163\fprq2 Helvetica (Vietnamese);}}{\colortbl;\red0\green0\blue0;
\red0\green0\blue255;\red0\green255\blue255;\red0\green255\blue0;\red255\green0\blue255;\red255\green0\blue0;\red255\green255\blue0;\red255\green255\blue255;\red0\green0\blue128;\red0\green128\blue128;\red0\green128\blue0;\red128\green0\blue128;
\red128\green0\blue0;\red128\green128\blue0;\red128\green128\blue128;\red192\green192\blue192;}{\stylesheet{\ql \li0\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \fs24\lang1033\langfe1033\cgrid\langnp1033\langfenp1033 \snext0 Normal;}
{\*\cs10 \additive \ssemihidden Default Paragraph Font;}{\*\ts11\tsrowd\trftsWidthB3\trpaddl108\trpaddr108\trpaddfl3\trpaddft3\trpaddfb3\trpaddfr3\tscellwidthfts0\tsvertalt\tsbrdrt\tsbrdrl\tsbrdrb\tsbrdrr\tsbrdrdgl\tsbrdrdgr\tsbrdrh\tsbrdrv 
\ql \li0\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \fs20\lang1024\langfe1024\cgrid\langnp1024\langfenp1024 \snext11 \ssemihidden Normal Table;}}{\*\latentstyles\lsdstimax156\lsdlockeddef0}{\*\rsidtbl \rsid4028737}{\*\generator Micro
soft Word 11.0.6359;}{\info{\author  }{\operator  }{\creatim\yr2011\mo7\dy17\hr15\min4}{\revtim\yr2011\mo7\dy17\hr15\min21}{\version2}{\edmins17}{\nofpages17}{\nofwords4578}{\nofchars26101}{\*\company MS User}{\nofcharsws30618}{\vern24703}}
\margl1440\margr1440 \widowctrl\ftnbj\aenddoc\noxlattoyen\expshrtn\noultrlspc\dntblnsbdb\nospaceforul\hyphcaps0\horzdoc\dghspace120\dgvspace120\dghorigin1701\dgvorigin1984\dghshow0\dgvshow3\jcompress\viewkind1\viewscale100\nolnhtadjtbl\rsidroot4028737 
\fet0\sectd \linex0\sectdefaultcl\sftnbj {\*\pnseclvl1\pnucrm\pnstart1\pnindent720\pnhang {\pntxta .}}{\*\pnseclvl2\pnucltr\pnstart1\pnindent720\pnhang {\pntxta .}}{\*\pnseclvl3\pndec\pnstart1\pnindent720\pnhang {\pntxta .}}{\*\pnseclvl4
\pnlcltr\pnstart1\pnindent720\pnhang {\pntxta )}}{\*\pnseclvl5\pndec\pnstart1\pnindent720\pnhang {\pntxtb (}{\pntxta )}}{\*\pnseclvl6\pnlcltr\pnstart1\pnindent720\pnhang {\pntxtb (}{\pntxta )}}{\*\pnseclvl7\pnlcrm\pnstart1\pnindent720\pnhang {\pntxtb (}
{\pntxta )}}{\*\pnseclvl8\pnlcltr\pnstart1\pnindent720\pnhang {\pntxtb (}{\pntxta )}}{\*\pnseclvl9\pnlcrm\pnstart1\pnindent720\pnhang {\pntxtb (}{\pntxta )}}\pard\plain \ql \li0\ri0\nowidctlpar
\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\faauto\rin0\lin0\itap0 \fs24\lang1033\langfe1033\cgrid\langnp1033\langfenp1033 {\b\f4\insrsid4028737 OPENCLINICA INSTALLATION GUIDE for LINUX - ENTERPRISE
\par OpenClinica Version }{\b\f4\insrsid4028737 3.1.1}{\b\f4\insrsid4028737 
\par Document Version 1.0 
\par --------------------------------------------------------------
\par Updated: }{\b\f4\insrsid4028737 July 15th}{\b\f4\insrsid4028737 , 2011 smartin@akazaresearch.com, pgalvin@akazaresearch.com
\par 
\par About OpenClinica
\par ------------------------------------------------------
\par }{\f4\insrsid4028737 
\par OpenClinica: Open Source Software Platform for Managing Clinical Research Studies Professional Open Source Solutions for the Clinical Research Enterprise
\par 
\par OpenClinica is a free, open source clinical trial software platform for Electronic Data Capture (EDC) clinical data management in clinical research. The software is web-based and designed to support all types of clinical studies in
 diverse research settings. From the ground up, OpenClinica is built on leading independent standards to achieve high levels of interoperability. Its modular architecture and transparent, collaborative development model offer outstanding flexibility while
 supporting a robust, enterprise-quality solution.
\par 
\par More about OpenClinica: http://www.OpenClinica.org [^]
\par 
\par Software License
\par 
\par OpenClinica is distributed under the GNU Lesser General Public License (GNU LGPL). For details see: http://www.openclinica.org/license [^] or LICENSE.txt distributed with this distribution.}{\b\f4\insrsid4028737 
\par 
\par Linux Install
\par ------------------------------------------------------
\par }{\f4\insrsid4028737 These instructions are meant to be non distro specific installation instructions for OpenClinica and its software stack. These instructions have been tested on RedHat EL5.}{\b\f4\insrsid4028737 
\par 
\par }{\f4\insrsid4028737 Please contact contact@akazaresearch.com for services to assist with on-site or remote installation, validation and QA testing of OpenClinica to assure complete deployment.}{\b\f4\insrsid4028737 
\par 
\par OS Requirements
\par ------------------------------------------------------
\par }{\f4\insrsid4028737 The following packages should be installed on your OS: vim, unzip, tar
\par "root" user access is required, all command in this install guide should be ran with root level privileges.
\par }{\b\f4\insrsid4028737 
\par Download Installation Files
\par ------------------------------------------------------
\par }{\f4\insrsid4028737 OpenClinica runs and depends on several external applications: Sun's Java Development Kit, Apache Jakarta's Tomcat Servlet Container, and the Postgres Relational Database.
\par }{\b\f4\insrsid4028737 
\par }{\f4\insrsid4028737 At Akaza Research we keep a 
copy of the setup files for tomcat, postgres and java located at the link below. Note there are 32bit and 64bit editions when applicable, also these are the exact versions we test with. Our software may work with other versions of the applications but hav
e not been tested.
\par 
\par http://svn.akazaresearch.com/oc/software/OpenClinica-}{\f4\insrsid4028737 3.1.1}{\f4\insrsid4028737 /
\par 
\par Below are some quick wget lines for 32bit and 64bit software needed for the installation. 
\par 
\par To determine if you are on a 32bit or 64bit OS run "uname -a" in your terminal, if you see "i386" or "i686" you are on a 32bit OS, if you see "x86_64" you are on a 64bit OS.
\par 
\par Run the following command for your architecture to download the files on your server.
\par 
\par \tab mkdir -p /usr/local/oc/install 
\par \tab cd /usr/local/oc/install
\par 
\par This will download OpenClinica Enterprise edition.
\par \tab wget --no-check-certificate --http-user=installer --http-password=dhy29sdh1 https://svn.akazaresearch.com/oc/software/OpenClinica-}{\f4\insrsid4028737 3.1.1}{\f4\insrsid4028737 /enterprise/OpenClinica-}{\f4\insrsid4028737 3.1.1}{\f4\insrsid4028737 
.zip
\par 
\par }{\b\f4\insrsid4028737 Now run the 32bit or 64bit commands below depending on your architecture. }{\f4\insrsid4028737 
\par 
\par }{\b\f4\insrsid4028737 32BIT}{\f4\insrsid4028737 
\par \tab wget http://svn.akazaresearch.com/oc/software/OpenClinica-}{\f4\insrsid4028737 3.1.1}{\f4\insrsid4028737 /linux/apache-tomcat-6.0.32.tar.gz
\par \tab wget http://svn.akazaresearch.com/oc/software/OpenClinica-}{\f4\insrsid4028737 3.1.1}{\f4\insrsid4028737 /linux/jdk-6u24-linux-i586.bin
\par 
\par }{\b\f4\insrsid4028737 if you are using oracle you do not need to download the postgres install file below.}{\f4\insrsid4028737 
\par \tab wget http://svn.akazaresearch.com/oc/software/OpenClinica-}{\f4\insrsid4028737 3.1.1}{\f4\insrsid4028737 /linux/postgresql-8.4.1-1-linux.bin
\par 
\par }{\b\f4\insrsid4028737 64BIT}{\f4\insrsid4028737 
\par \tab wget http://svn.akazaresearch.com/oc/software/OpenClinica-}{\f4\insrsid4028737 3.1.1}{\f4\insrsid4028737 /linux/apache-tomcat-6.0.32.tar.gz
\par \tab wget http://svn.akazaresearch.com/oc/software/OpenClinica-}{\f4\insrsid4028737 3.1.1}{\f4\insrsid4028737 /linux/jdk-6u24-linux-x64.bin
\par }{\b\f4\insrsid4028737 if you are using oracle you do not need to download the postgres install file below.}{\f4\insrsid4028737 
\par \tab wget http://svn.akazaresearch.com/oc/software/OpenClinica-}{\f4\insrsid4028737 3.1.1}{\f4\insrsid4028737 /linux/postgresql-8.4.1-1-linux-x64.bin
\par 
\par You can download all the files needed to install tomcat, postgres and java from that URL or wget statements above or you can go and download the files from the individual vendors. Links to each vendors websites are below.
\par 
\par Postgres - http://www.postgresql.org/
\par Java - http://www.oracle.com/technetwork/java/index.html
\par Tomcat - http://tomcat.apache.org/
\par 
\par 
\par }{\b\f4\insrsid4028737 FOR THE REMAINDER OF THE DOCUMENT I WILL NOT BE USING EXACT FILENAMES AS THESE NEXT STEPS CAN BE USED FOR EITHER 32BIT OR 64BIT. PLEASE FILL IN THE FILENAME AS NEEDED FOR YOUR ARCHITECTURE.
\par 
\par Install Java
\par ------------------------------------------------------
\par }{\f4\insrsid4028737 You should already be in "/ust/local/oc/install" if not cd into it now via the command below.
\par \tab cd /usr/local/oc/install
\par Now run the following to install java.
\par \tab chmod a+x jdk-6*
\par \tab ./jdk-6*
\par Once done extracting and you see "Press Enter to continue\'85..", press enter. AIf a web browser opens up to register the JDK feel, free to register or close the browser.
\par 
\par Now java is done extracting we are going to set it up in the OS with the following commands.
\par \tab mv jdk1*/ /usr/local/
\par \tab ln -s /usr/local/jdk1* /usr/local/java
\par Java is now installed and is in a location we expect it to be in.
\par 
\par }{\b\f4\insrsid4028737 Tomcat Install
\par ------------------------------------------------------
\par }{\f4\insrsid4028737 You should already be in "/ust/local/oc/install" if not cd into it now via the command below.
\par \tab cd /usr/local/oc/install
\par Now run the following commands to install tomcat.
\par \tab tar -zxvf apache-tomcat-*
\par \tab mv apache-tomcat-6.0.32 /usr/local/
\par \tab ln -s /usr/local/apache-tomcat-6.0.32/ /usr/local/tomcat
\par \tab /usr/sbin/adduser tomcat
\par Now we are going to move all the webapps that come with tomcat to an oldwebapps directory as we do not need them
\par \tab mkdir /usr/local/tomcat/oldwebapps 
\par \tab mv /usr/local/tomcat/webapps/* /usr/local/tomcat/oldwebapps
\par Tomcat is now installed, we will setup the init script we when run through the OpenClinica application setup.
\par 
\par }{\b\f4\insrsid4028737 Postgres install
\par ------------------------------------------------------
\par NOTE: If you are u
sing oracle as your database please skip this section and install oracle now, we do not provide instructions on how to install oracle, we do provide instructions later in this document that shows you how to setup the OpenClinica user and db within oracle 
so OpenClinica can use oracle.
\par 
\par }{\f4\insrsid4028737 You should already be in "/ust/local/oc/install" if not cd into it now via the command below.
\par \tab cd /usr/local/oc/install
\par \tab chmod a+x postgresql-8.4.*
\par \tab ./postgresql-8.4.* --mode text
\par Now you will see the PostgresSQL Setup Wizard start, for the most part we want the defaults, I have displayed them below, confirm they match and hit enter for each section is they do. If they do not match type in what I have in my examples below.
\par \tab Installation Directory [/opt/PostgreSQL/8.4]:  }{\b\f4\insrsid4028737 (press enter to accept this)
\par \tab }{\f4\insrsid4028737 Data Directory [/opt/PostgreSQL/8.4/data]: }{\b\f4\insrsid4028737 (press enter to accept this)
\par \tab }{\f4\insrsid4028737 Password : }{\b\f4\insrsid4028737 (enter the password for the postgres DB superuser, please keep this password you will need it again in this installation., then press enter)
\par \tab }{\f4\insrsid4028737 Retype password :}{\b\f4\insrsid4028737  (re-type the password you types in the previous step and press enter)
\par \tab }{\f4\insrsid4028737 Port [5432]: }{\b\f4\insrsid4028737 (press enter to accept this)
\par \tab }{\f4\insrsid4028737 Please choose an option [1] : }{\b\f4\insrsid4028737 (press enter to accept this)
\par \tab }{\f4\insrsid4028737 Install pl/pgsql in template1 database? [Y/n]:  }{\b\f4\insrsid4028737 (type "n" and press enter)
\par }{\f4\insrsid4028737 \tab Do you want to continue? [Y/n]:}{\b\f4\insrsid4028737  (press enter to accept this)
\par }{\f4\insrsid4028737 Setup will install postgres and you should see a "Setup has finished installing PostgreSQL on your computer." message. You will then have the following prompt.
\par \tab Stack Builder may be used to download and install additional tools, drivers and applications to complement your PostgreSQL installation. [Y/n]:  }{\b\f4\insrsid4028737 (type "n" and press enter)
\par \tab 
\par }{\f4\insrsid4028737 Replacing default config file with enterprise edited version.}{\b\f4\insrsid4028737 
\par \tab }{\f4\insrsid4028737 cp /opt/PostgreSQL/8.4/data/postgresql.conf /opt/PostgreSQL/8.4/data/postgresql.conf-orig
\par \tab wget --no-check-certificate --http-user=installer --http-password=dhy29sdh1  https://svn.akazaresearch.com/oc/software/OpenClinica-}{\f4\insrsid4028737 3.1.1}{\f4\insrsid4028737 /enterprise/linux/postgresql.conf
\par }{\b\f4\insrsid4028737 \tab }{\f4\insrsid4028737 cp postgresql.conf /opt/PostgreSQL/8.4/data/postgresql.conf }{\b\f4\insrsid4028737 (when prompted to overwrite file type "y", and hit "enter")
\par \tab }{\f4\insrsid4028737 
\par Postgres is now installed and will start on boot.}{\b\f4\insrsid4028737 
\par 
\par Setup OpenClinica application and db.
\par ------------------------------------------------------
\par }{\f4\insrsid4028737 You should already be in "/ust/local/oc/install" if not cd into it now via the command below.
\par \tab cd /usr/local/oc/install
\par \tab unzip OpenClinica-}{\f4\insrsid4028737 3.1.1}{\f4\insrsid4028737 *
\par \tab cd OpenClinica-}{\f4\insrsid4028737 3.1.1}{\f4\insrsid4028737 */distribution
\par \tab unzip OpenClinica.war -d OpenClinica
\par \tab cp -rf OpenClinica OpenClinica_test
\par \tab cp -rf OpenClinica* /usr/local/tomcat/webapps
\par \tab rm -f /usr/local/tomcat/webapps/OpenClinica.war
\par }{\b\f4\insrsid4028737 
\par }{\f4\insrsid4028737 OpenClinica is now deployed we will configure it after we setup the databases. 
\par 
\par }{\b\f4\insrsid4028737 Postgres DB Setup
\par ------------------------------------------------------}{\f4\insrsid4028737 
\par When prompted for passwords on the below commands please enter the postgres superuser password you set during the postgres install.
\par \tab /opt/PostgreSQL/8.4/bin/psql -U postgres -c "CREATE ROLE clinica LOGIN ENCRYPTED PASSWORD 'clinica' SUPERUSER NOINHERIT NOCREATEDB NOCREATEROLE" 
\par \tab /opt/PostgreSQL/8.4/bin/psql -U postgres -c "CREATE DATABASE  openclinica WITH ENCODING='UTF8' OWNER=clinica" 
\par \tab /opt/PostgreSQL/8.4/bin/psql -U postgres -c "CREATE DATABASE  openclinica_test WITH ENCODING='UTF8' OWNER=clinica" 
\par 
\par These scripts created the db and the "clinic" db user OpenClinica uses to connect to the database. Note that the "clinic" db users password is set to "clinica" by default, since this is very insecure run the following commands to change the password.

\par 
\par \tab /opt/PostgreSQL/8.4/bin/psql -U postgres }{\b\f4\insrsid4028737 (this brings you to a psql prompt)
\par \tab }{\f4\insrsid4028737 ALTER USER clinica WITH PASSWORD 'XXXX; }{\b\f4\insrsid4028737 (replace XXXX with your wanted password, save this password it will be needed when we configure the OpenClinica application)
\par \tab }{\f4\insrsid4028737 \\q }{\b\f4\insrsid4028737 (this will exit the psql prompt)
\par }{\f4\insrsid4028737 \tab 
\par }{\b\f4\insrsid4028737 Oracle DB Setup
\par ------------------------------------------------------
\par }{\f4\insrsid4028737 Please see the following page for Oracle DB setup
\par 
\par }{\field\fldedit{\*\fldinst {\f4\insrsid4028737 HYPERLINK "https://docs.openclinica.com/3.1/installation/oracle-database-setup"}{\f4\insrsid4028737\charrsid4028737 {\*\datafield 
00d0c9ea79f9bace118c8200aa004ba90b0200000003000000e0c9ea79f9bace118c8200aa004ba90ba0000000680074007400700073003a002f002f0064006f00630073002e006f00700065006e0063006c0069006e006900630061002e0063006f006d002f0033002e0031002f0069006e007300740061006c006c006100
740069006f006e002f006f007200610063006c0065002d00640061007400610062006100730065002d00730065007400750070000000795881f43b1d7f48af2c825dc485276300000000a5ab0000}}}{\fldrslt {\f4\insrsid4028737 https://docs.openclinica.com/}{\f4\insrsid4028737 3.1.1}{
\f4\insrsid4028737 /installation/oracle-database-setup}}}{\f4\insrsid4028737 
\par 
\par }{\b\f4\insrsid4028737 Setting tomcat to start on boot
\par ------------------------------------------------------
\par }{\f4\insrsid4028737 \tab cp /usr/local/oc/install/OpenClinica-}{\f4\insrsid4028737 3.1.1}{\f4\insrsid4028737 /install-docs/linux/tomcat /etc/init.d/\tab 
\par \tab cd /etc/init.d
\par \tab chmod a+x /etc/init.d/tomcat
\par \tab /sbin/chkconfig --add tomcat }{\b\f4\insrsid4028737 (redhat only, see your distros setup for adding an init script)
\par 
\par You can manually stop and start tomcat with these scripts instead of using the init script if you would like.}{\f4\insrsid4028737 
\par /usr/local/tomcat/bin/shutdown.sh
\par /usr/local/tomcat/bin/startup.sh
\par }{\b\f4\insrsid4028737 
\par 
\par Configuring the OpenClinica application
\par ------------------------------------------------------}{\f4\insrsid4028737 
\par The configuration of OpenClinica in }{\f4\insrsid4028737 3.1.1}{\f4\insrsid4028737 
 has gotten much easier if you followed these installation instruction you should only need to edit one parameter in the configuration file (dbPass) for OpenClinica to work. You may want to add email support and other custom settings.
\par 
\par The configuration files are located at "/usr/local/tomcat/webapps/OpenClinica/WEB-INF/classes/datainfo.properties " for the production instance and "/usr/local/tomcat/webapps/OpenClinica_test/WEB-INF/classes/datainfo.properties " for the test instance.

\par 
\par Edit /usr/local/
tomcat/webapps/OpenClinica/WEB-INF/classes/datainfo.properties and "/usr/local/tomcat/webapps/OpenClinica_test/WEB-INF/classes/datainfo.properties" and change the properties to suit your server environment as needed.  The initial datainfo.properties file 
looks something like this:
\par 
\par #############################################################################
\par # 1 - Database Configuration
\par #
\par # Database configuration is done with the following 6 properties
\par # The dbType options are either postgres or oracle.
\par # Enter the user name and password to access the database in 
\par # dbUser and dbPass.
\par # The db field is for the name of the database and provide the port
\par # in dbPort.
\par # dbHost can be a URL, IP address or localhost
\par #
\par # REQUIRED
\par #############################################################################
\par dbType=postgres
\par dbUser=clinica
\par dbPass=clinica
\par db=$\{WEBAPP.lower\}
\par dbPort=5432
\par dbHost=localhost
\par 
\par #############################################################################
\par # 2 - filePath
\par #
\par # File Path is the string which declares the
\par # repository for all uploaded and generated
\par # files in the system, including CRFs and
\par # data sets.  The directory should NOT be
\par # accessible by the web server.
\par #
\par # REQUIRED.  
\par #############################################################################
\par filePath=$catalina.home/$\{WEBAPP.lower\}.data/
\par 
\par #############################################################################
\par # 3 - Attached File Location
\par # Location for files if item data type is "file". If it has been kept empty,
\par # "filePath" will be used as the attached file location.
\par # This will be a sub folder within the filePath location only.
\par # You may configure a full path that points to a directory outside of the filePath.
\par # If you configure a full path, it must have a trailing slash.
\par # Example = /usr/local/attached_file/ or C:\\\\attached_file\\\\
\par #
\par # NOT REQUIRED
\par #############################################################################
\par # attached_file_location=
\par 
\par #############################################################################
\par # 4 - user_account_notification
\par #
\par # User Account Notification is the method by
\par # which new users are sent their passwords.
\par # Users can be sent passwords via email,
\par # or the password can be displayed on the screen
\par # to the administrator, who is instructed to
\par # write it down and physically give it to the user
\par # in question.  The default is email.
\par #
\par # REQUIRED.  
\par #############################################################################
\par userAccountNotification=email
\par 
\par #############################################################################
\par # 5 - adminEmail
\par #
\par # The Admin Email is the field to set the administrator's
\par # email for a given server. It is also used for
\par # replies to the email messages sent by the system.
\par #
\par # REQUIRED
\par #############################################################################
\par adminEmail=web-snapshot@example.com
\par 
\par #############################################################################
\par # 6- Spring Based Email System
\par #
\par # Configure the Email SMTP host below. If the host
\par # requires a username and password make sure
\par # mail.smtp(s).auth is set to true.
\par # Configure mail protocol via mail.protocol, Valid options 
\par # would be smtp or smtps.
\par # Configure smtp over ttls by setting mail.smtp(s).starttls.enable
\par # to true.
\par # Configure connection timeout. Preconfigred to 5 secs
\par #############################################################################
\par mailHost=mail.akazaresearch.com
\par mailPort=25
\par mailProtocol=smtp
\par mailUsername=
\par mailPassword=
\par mailSmtpAuth=false
\par mailSmtpStarttls.enable=false
\par mailSmtpsAuth=false
\par mailSmtpsStarttls.enable=false
\par mailSmtpConnectionTimeout=100
\par mailErrorMsg=developers@openclinica.org
\par 
\par #############################################################################
\par # 7 - passwd_expiration
\par #
\par # Passwd Expiration Time is the number of
\par # days that can elapse before a user is notified that
\par # they should change their password.
\par #
\par # REQUIRED.
\par #############################################################################
\par passwdExpirationTime=360
\par 
\par #############################################################################
\par # 8 - sysURL
\par #
\par # The web address for the system.  It can either be an external
\par # address (demo.openclinica.org) or an internal IP
\par # address (192.168.2.000).
\par # NOTE: If you reconfigure the address or port in some later
\par # step, such as by configuring SSL, you will need to come back
\par # and update this file. You will also need to restart tomcat
\par # for changes to this take effect.
\par #
\par # REQUIRED
\par #############################################################################
\par sysURL=http://svn.akazaresearch.com:8081/$\{WEBAPP.lower\}-SNAPSHOT./MainMenu
\par 
\par #############################################################################
\par # 9 - max_inactive_interval
\par #
\par # This is maximum time interval between client requests. That is,
\par # if users leave any page open without sending a request to the 
\par # server, after this time interval, when users attempt sending 
\par # request they will be directed to login page.
\par #
\par # REQUIRED
\par #############################################################################
\par maxInactiveInterval=3600
\par 
\par #############################################################################
\par # 10- change_passwd_required
\par #
\par # Change Passwd Required is a flag which will force users to change
\par # their password when they log on for the first time or when their
\par # time expires. 1 is for required, 0 is for not required.
\par # 
\par # REQUIRED. 
\par #############################################################################
\par change_passwd_required=1
\par 
\par #############################################################################
\par # 11 - Logging configuration
\par log.dir=/usr/local/tomcat/logs/openclinica
\par # Specify the log location - local/syslog/both
\par logLocation = local
\par # Specify logging level - trace/debug/info/warn/error
\par logLevel = info
\par syslog.host = localhost
\par syslog.port = 514
\par 
\par #############################################################################
\par # 12- News/About
\par # On the OpenClinica login screen, there will be a box to the right of the login section
\par # which can contain an RSS feed.  You can configure what RSS feed is used in the rss.rl field.
\par # If you do not want the RSS feed, please comment out rss.url and rss.more and uncomment
\par # about.text1 and about.text2.  These two fields can be used for any free form text that you
\par # you want to appear on the OpenClinica login page.
\par # the default feed is http://clinicalresearch.wordpress.com/feed/
\par # default value for rss.more http://clinicalresearch.wordpress.com/
\par #############################################################################
\par # rssUrl=http://clinicalresearch.wordpress.com/feed/
\par # rssMore=http://clinicalresearch.wordpress.com/
\par # about.text1= Hello World 1
\par # about.text2= Hello World 2
\par 
\par #############################################################################
\par # 13 - CRF File Upload Configuration
\par # crf.file.extensionSettings can have 3 values valid,invalid or left empty which defaults to valid.
\par # if crf.file.extensionSetting= valid , then extensions specified can be uploaded.
\par # if crf.file.extensionSetting= invalid , then extensions specified can NOT be uploaded.
\par # if crf.file.extensions is left empty and crf.file.extensionSettings=valid then all extensions are valid
\par # if crf.file.extensions is left empty and crf.file.extensionSettings=invalid then all extensions are NOT valid  
\par # separate extensions with a comma and do not include the leading dot.
\par #############################################################################
\par # crfFileExtensions=
\par # crfFileExtensionSettings=
\par 
\par #############################################################################
\par # 14 - supportURL
\par #
\par # The Support URL is included in the support button that appears
\par # in the top right corner of all pages in OPenClinica. By including
\par # the URL here we will be able to configure it depending on the adopter
\par # 
\par # REQUIRED 
\par #############################################################################
\par # supportURL=http://www.openclinica.org/OpenClinica/3.0/support/
\par 
\par #############################################################################
\par # 15- Quartz Scheduler Configuration
\par #
\par # Configure the mis-fire threshold for the scheduler, 
\par # and the number of extract jobs can run at a single time.
\par #
\par # REQUIRED
\par #############################################################################
\par org.quartz.jobStore.misfireThreshold=18000000
\par org.quartz.threadPool.threadCount=1
\par org.quartz.threadPool.threadPriority=5
\par 
\par #############################################################################
\par # 16 - CCTS configuration
\par # 
\par # This is used for OpenClinica instances that have been modified and configured
\par # to work with the Cancer Clinical Trials Suites.  This is a caBIG suite of applications.
\par # The configuration determines how long OpenClinica will hold a transaction from C3PR
\par # and will wait for a roll back message before committing it to the database.
\par #
\par # NOT REQUIRED
\par #############################################################################
\par ccts.waitBeforeCommit=6000
\par 
\par #############################################################################
\par # 17 - Facility information
\par #
\par # The OpenClinica defaults will be used when creating a new study
\par # unless you uncomment each property and provide a value next to 
\par # each = sign.
\par #
\par # NOT REQUIRED
\par #############################################################################
\par # FacName=
\par # FacCity=
\par # FacState=
\par # FacZIP=
\par # FacCountry=
\par # FacContactName=
\par # FacContactDegree=
\par # FacContactPhone=
\par # FacContactEmail=
\par 
\par #############################################################################
\par # 18 - export data file path
\par #
\par # Export Data File Path is the string which (optionally) 
\par # declares a specific file path for file extracts to be
\par # saved.  This is a sub folder of filePath.
\par # Note that if it is set, files from Jobs only will be saved 
\par # to two places: this directory and under the above file path
\par # declared in the 'filePath' property.
\par #
\par # NOT REQUIRED.  Please comment out if you want Jobs to generate
\par # one file/files only, in the directory structure under 'filePath'.
\par #############################################################################
\par # exportFilePath=scheduled_data_export
\par #############################################################################
\par # 19 - Usage statistics configuration
\par #\'ef\'bf\'bdUsage statistics" refers to information automatically sent back to OpenClinica.org
\par # to help us figure out how well OpenClinica is working and help us improve it in 
\par #future versions.
\par #This
 includes technical information such as the version of OpenClinica installed, the #number of studies created and user load. These statistics DO NOT include information such #as study or CRF names, study data, or user information. We collect this data in a
ggregate #and use it according to our Privacy Policy [LINK TO PRIVACY POLICY] to improve our #products and services.
\par #
\par #As part of system configuration, we give you the option to help us improve OpenClinica by #sending these usage statistics. If you elect t
o send this information but later change #your mind, you can disable this feature in the datainfo.properties file by changing 
\par # 'collectStats' value to 'false'
\par collectStats=true
\par usage.stats.host=192.168.15.184
\par usage.stats.port=514
\par OpenClinica_version=SNAPSHOT
\par 
\par }{\b\f4\insrsid4028737 Once done editing these files save it and run the following commands.
\par \tab }{\f4\insrsid4028737 chown -R tomcat /usr/local/tomcat/*
\par \tab chown -R tomcat /usr/local/apache-*
\par 
\par At this point you have installed and setup tomcat, java, postgres and OpenClinica. Restart your computer and verify OpenClinica starts on boot with the following command.
\par \tab reboot
\par 
\par }{\b\f4\insrsid4028737 Configure HTTPS
\par --------------------------------------------------------------
\par }{\f4\insrsid4028737 
Akaza Research strongly recommends securing the Tomcat application server using SSL. SSL is the technology used to make secured 'https://' connections. SSL requires a third-party security certificate to be effective. Information regarding configuring ss
l certificates for tomcat can be found here. http://tomcat.apache.org/tomcat-6.0-doc/ssl-howto.html
\par 
\par Get your tomcat compatible ssl certificate from your IT department and place it on the server into the "/usr/local/oc/install" directory and rename the fil
e to be "tomcat.keystore" or follow the self signed SSL certificate instructions in the next section and then return here once done.
\par 
\par Run the following command to implement your SSL certificate.
\par \tab cd /usr/local/oc/install
\par \tab cp /usr/local/oc/install/tomcat.keystore /usr/local/tomcat/openclinica.data/
\par \tab cp /usr/local/tomcat/conf/server.xml /usr/local/tomcat/conf/server.xml-orig
\par \tab wget --no-check-certificate --http-user=installer --http-password=dhy29sdh1  https://svn.akazaresearch.com/oc/software/OpenClinica-}{\f4\insrsid4028737 3.1.1}{\f4\insrsid4028737 /enterprise/linux/ssl-server.xml
\par \tab cp /usr/local/oc/install/ssl-server.xml /usr/local/tomcat/conf/server.xml}{\b\f4\insrsid4028737  (When prompted to overwrite type "y" and press "enter")}{\f4\insrsid4028737 
\par 
\par Edit "usr/local/tomcat/conf/server.xml" and replace "SSLPASSWORD" with your keystore password in the port 8443 connector section.
\par If your certificate is in "java keystore" format this is the only thing you need to edit, if your certificate is in "pkcs12" format you have to add the following to the connector "<keystoreType="pkcs12>", example is below.
\par 
\par     <Connector port="8443" protocol="HTTP/1.1" SSLEnabled="true"
\par                maxThreads="150" scheme="https" secure="true"
\par                clientAuth="false" sslProtocol="TLS" 
\par                ciphers="SSL_RSA_WITH_RC4_128_MD5, SSL_RSA_WITH_RC4_128_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WIT
H_3DES_EDE_CBC_SHA"
\par                keystoreFile="/usr/local/tomcat/openclinica.data/tomcat.keystore"
\par                keystorePass="SSLPASSWORD" <keystoreType="pkcs12>  />
\par 
\par Once done with your edits save the file. We will know want to restart tomcat to apply the changes. Due this by issuing the following command.
\par \tab /etc/init.d/tomcat restart
\par 
\par Since we do not have our customers access OpenClinca on port 8443 we have to do an iptables-redirect that redirects traffic from 443 to 8443. This is accomplished by running the following commands.
\par \tab /sbin/iptables -t nat -I PREROUTING --src 0/0 -p tcp --dport 443 -j REDIRECT --to-ports 8443
\par \tab /sbin/iptables-save > /etc/sysconfig/iptables }{\b\f4\insrsid4028737 (redhat only, see how to have your iptables persist through a reboot for your linux distro)
\par 
\par }{\f4\insrsid4028737 After the above commands have been run you should be able to access OpenClinica from the following URL's. }{\b\f4\insrsid4028737 
(Note: For local firewalls you will need to have both "443" and "8443" open, for external firewall's you just need port "443" open)}{\f4\insrsid4028737 
\par 
\par \tab https://localhost/OpenClinica }{\b\f4\insrsid4028737 (from another machine replace "localhost" with the servers IP or hostname)
\par }{\f4\insrsid4028737 \tab https://localhost/OpenClinica_test }{\b\f4\insrsid4028737 (from another machine replace "localhost" with the servers IP or hostname)
\par 
\par }{\f4\insrsid4028737 To make sure the iptables redirect persists after a reboot issue the following command to restart the server.
\par \tab reboot}{\b\f4\insrsid4028737 
\par 
\par }{\f4\insrsid4028737 After the server has restarted you should be able to access OpenClinica from the following URL's. }{\b\f4\insrsid4028737 (Note: For local firewalls you will need to have both "443" and "8443" open, for external
 firewall's you just need port "443" open)}{\f4\insrsid4028737 
\par 
\par \tab https://localhost/OpenClinica }{\b\f4\insrsid4028737 (from another machine replace "localhost" with the servers IP or hostname)
\par }{\f4\insrsid4028737 \tab https://localhost/OpenClinica_test }{\b\f4\insrsid4028737 (from another machine replace "localhost" with the servers IP or hostname)
\par 
\par }{\f4\insrsid4028737 If you cannot access the URL's please ask the administrator to confirm ports 443 and 8443 are open in the firewall.}{\b\f4\insrsid4028737 
\par 
\par 
\par Self Signed SSL certificate instructions
\par --------------------------------------------------------------
\par }{\f4\insrsid4028737 Skip this section if you are not using a self signed SSL certificate.
\par 
\par To create a self signed ssl certificate run the following commands.
\par 
\par You should already be in "/ust/local/oc/install" if not cd into it now via the command below.
\par \tab mkdir -p /usr/local/oc/install/ssl
\par \tab cd /usr/local/oc/install/ssl
\par \tab /usr/local/jdk1.6.0_24/bin/keytool -genkey -alias tomcat_key -keyalg RSA -keysize 2048 -keystore tomcat.keystore -validity 365
\par \tab When prompted with "Enter keystore password:" please enter a password for you ssl c
ertificate and remember this password as your keystore password as you will need it in future steps, once password is entered press "enter" and retype the password when you are prompted with "Re-enter new password: ".
\par The next set of questions are related to your certificate and should be filled out accordingly for this server. Below is some examples and explanations when needed.
\par \tab What is your first and last name? [Unknown]:  }{\b\f4\insrsid4028737 (This is your server name or IP so you wool enter "openclinica.example.com" or an IP like 192.168.1.15)
\par \tab }{\f4\insrsid4028737 What is the name of your organizational unit?  [Unknown]:  }{\b\f4\insrsid4028737 (Usually people put the name of the company or department ex. "Akaza Research LLC")
\par }{\f4\insrsid4028737 \tab What is the name of your organization?  [Unknown]:  }{\b\f4\insrsid4028737 (This is almost always the company name and most people have this and the above option be the same but it is not required)
\par \tab }{\f4\insrsid4028737 What is the name of your City or Locality?  [Unknown]: }{\b\f4\insrsid4028737 (Enter your city, ex. "Waltham")
\par }{\f4\insrsid4028737 \tab What is the name of your State or Province?  [Unknown]:}{\b\f4\insrsid4028737  (Enter your state, ex "Massachusetts")
\par }{\f4\insrsid4028737 \tab What is the two-letter country code for this unit?  [Unknown]:  }{\b\f4\insrsid4028737 (Enter your countries two letter abbreviation, ex "US")}{\f4\insrsid4028737 
\par \tab Is CN=192.168.15.156, OU=Akaza Research LLC, O=Akaza Research LLC, L=Waltham, ST=Massachusetts, C=US correct?  [no]:  }{\b\f4\insrsid4028737 (
This is just making sure you entered the correct data, if it looks good type "yes" and press "enter" otherwise type "no" and press "enter" and you will start the questions over)
\par }{\f4\insrsid4028737 \tab Enter key password for <tomcat_key>        (RETURN if same as keystore password):  }{\b\f4\insrsid4028737 (For this prompt do NOT enter your password and just hit "enter")
\par }{\f4\insrsid4028737 
\par We have finished creating the self signed certificate.
\par 
\par Now we will move tomcat.keystore to "/usr/local/oc/install" with the following command.
\par \tab  mv tomcat.keystore /usr/local/oc/install/
\par 
\par Now go back to the "CONFIGURE HTTPS" section above.\tab 
\par }{\b\f4\insrsid4028737 \tab 
\par }{\f4\insrsid4028737 
\par }{\b\f4\insrsid4028737 Verify environment by logging in}{\f4\insrsid4028737 
\par }{\b\f4\insrsid4028737 --------------------------------------------------------------}{\f4\insrsid4028737 
\par Login with the username "root" and the password "12345678". Please change this password as soon as you log in. The root user will be assigned a default project called "default". Create a technical administrator login for yourself and secure the password f
or the default root user. Create user accounts, you will want to create at least one Study Coordinator.
\par 
\par Refer users to the OpenClinica Quick Start for instructions on using the application.
\par }{\b\f4\insrsid4028737 
\par Validation and Testing
\par --------------------------------------------------------------
\par }{\f4\insrsid4028737 Please contact contact@akazaresearch.com for services to assist with on-site or remote installation, validation and quality assurance services for OpenClinica.}{\b\f4\insrsid4028737 
\par 
\par Developer and Contact Information
\par --------------------------------------------------------------
\par }{\f4\insrsid4028737 Akaza Research, based in Waltham, MA, provides clinical trials informatics solutions based on OpenClinica, the world's most widely used open source clinical trials software.
\par 
\par Akaza Research
\par 460 Totten Pond Road
\par Suite 200
\par Waltham, MA  02451
\par phone: 617.621.8585
\par fax: 617.621.0065
\par email: contact@akazaresearch.com
\par 
\par For more about Akaza\'eds products and services see:
\par http://www.akazaresearch.com/
\par and
\par http://www.OpenClinica.com/ }{\b\f4\insrsid4028737 
\par }}