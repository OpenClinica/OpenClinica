<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog/1.9" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog/1.9 http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-1.9.xsd">


    <changeSet author="ahamid" id="2010-12-02-6421-1">
        <comment>Rename Column Name</comment>
        <renameColumn tableName="event_crf" oldColumnName="prev_status" newColumnName="old_status_id" />
    </changeSet>
    <!--<changeSet author="ahamid" id="2010-12-02-6421-2">-->
        <!--<modifyColumn tableName="event_crf">-->
            <!--<column name="old_status_id" defaultValue="1"/>-->
        <!--</modifyColumn>-->
    <!--</changeSet>-->

    <changeSet author="ahamid" id="2010-12-02-6421-2">
		<comment>Update null values</comment>
		<sql>ALTER TABLE event_crf
            ALTER COLUMN old_status_id SET DEFAULT 1
        </sql>
	</changeSet>

    <changeSet author="ahamid" id="2010-12-02-6421-3">
		<comment>Update null values</comment>
		<sql>UPDATE event_crf set old_status_id=1 where old_status_id=null or old_status_id=0</sql>
	</changeSet>

</databaseChangeLog>